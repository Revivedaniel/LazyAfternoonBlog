const updateCommentButtonEl=document.querySelectorAll(".commentUpdateButton"),deleteCommentButtonEl=document.querySelectorAll(".commentDeleteButton"),cancelUpdateButtonEl=document.querySelectorAll(".cancelUpdateButton"),saveCommentButtonEl=document.querySelectorAll(".saveCommentButton"),confirmCommentButtonEl=document.querySelectorAll(".confirmCommentButton"),commentBodyEl=document.querySelectorAll(".comment-text");for(let a=0;a<updateCommentButtonEl.length;a++){const b=updateCommentButtonEl[a];b.addEventListener("click",b=>{b.preventDefault(),saveCommentButtonEl[a].classList.remove("hidden"),cancelUpdateButtonEl[a].classList.remove("hidden"),deleteCommentButtonEl[a].classList.add("hidden"),updateCommentButtonEl[a].classList.add("hidden"),commentBodyEl[a].classList.add("hidden");const c=document.createElement("textarea");c.setAttribute("id","updatedComment"),console.log(b.target.parentElement.querySelector(".comment-text")),c.value=b.target.parentElement.parentElement.querySelector(".comment-text").innerText,c.setAttribute("maxLength","255"),c.setAttribute("onfocus","this.style.height = \"\";this.style.height = this.scrollHeight + \"px\""),c.style.maxHeight="100%",b.target.parentElement.parentElement.querySelector(".comment-body").appendChild(c)})}for(let a=0;a<deleteCommentButtonEl.length;a++){const b=deleteCommentButtonEl[a];b.addEventListener("click",b=>{b.preventDefault(),confirmCommentButtonEl[a].classList.remove("hidden"),cancelUpdateButtonEl[a].classList.remove("hidden"),updateCommentButtonEl[a].classList.add("hidden"),deleteCommentButtonEl[a].classList.add("hidden")})}for(let a=0;a<confirmCommentButtonEl.length;a++){const b=confirmCommentButtonEl[a];b.addEventListener("click",async a=>{a.preventDefault();const c=await fetch(`/api/comments/${b.dataset.comment_id}`,{method:"DELETE",body:"",headers:{"Content-Type":"application/json"}});c.ok?window.location.reload():alert(c.statusText)})}for(let a=0;a<cancelUpdateButtonEl.length;a++){const b=cancelUpdateButtonEl[a];b.addEventListener("click",a=>{a.preventDefault(),window.location.reload()})}for(let a=0;a<saveCommentButtonEl.length;a++){const b=saveCommentButtonEl[a];b.addEventListener("click",async a=>{const c=document.querySelector("#updatedComment").value;a.preventDefault();const d=await fetch(`/api/comments/${b.dataset.comment_id}`,{method:"PUT",body:JSON.stringify({comment:c}),headers:{"Content-Type":"application/json"}});d.ok?window.location.reload():alert(d.statusText)})}